<!--
  @description       : 
  @author            : ChangeMeIn@UserSettingsUnder.SFDoc
  @group             : 
  @last modified on  : 02-06-2023
  @last modified by  : ChangeMeIn@UserSettingsUnder.SFDoc
-->
<template>
    <template if:true={isModalOpen}>
        <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true"
            aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
            <!-- Form Details -->
            <div class="slds-modal__container" if:true={formdetails}>
                <!-- spinner -->
                <template if:true={spinnerDataTable}>
                    <div data-id="spinnerId" class="slds-spinner_container spinner_container" style="overflow: hidden;">
                        <div class="spinner-main-div">
                            <div class="loader--ripple">
                                <div></div>
                                <div></div>
                            </div>
                        </div>
                    </div>
                </template>
                <!-- spinner -->
                <header class="slds-modal__header">
                    <p class="popup_titel">New Form</p>
                    <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse"
                        title="Close" onclick={closeModal}>
                        <lightning-icon icon-name="utility:close" alternative-text="close" variant="inverse"
                            size="small">
                        </lightning-icon>
                        <span class="slds-assistive-text">Close</span>
                    </button>
                </header>
                <div if:true={isModalOpen_2}>
                    <c-toast-component></c-toast-component>
                </div>
                <div class="slds-modal__content  newform_body" id="modal-content-id-1">
                    <div class="form-details-input">

                        <!-- Form Title  -->
                        <div class="input_field">
                            <div class="slds-grid slds-wrap">
                                <div class="slds-col slds-size_5-of-12">
                                    <label class="input_field-label"><abbr>*</abbr>Form Title</label>
                                </div>
                                <div class="slds-col slds-size_1-of-12">
                                    :
                                </div>
                                <div class="slds-col slds-size_6-of-12">
                                    <lightning-input variant="label-hidden" onchange={changeFormTitle}
                                        onkeypress={handleFocus} type="text" name="form_title" class="nameCls"
                                        value={formtitle}></lightning-input>
                                </div>
                            </div>
                        </div>

                        <!-- Progress Indicator  -->
                        <div class="input_field">
                            <div class="slds-grid slds-wrap">
                                <div class="slds-col slds-size_5-of-12">
                                    <label class="input_field-label">Progress Indicator <lightning-helptext
                                            variant="label-hidden"
                                            content="To display the form using the Progress bar or Steps"></lightning-helptext></label>
                                </div>
                                <div class="slds-col slds-size_1-of-12">
                                    :
                                </div>
                                <div class="slds-col slds-size_6-of-12 dropdown_object">
                                    <lightning-combobox name="ProgressIndicator" value={Progressbarvalue}
                                        variant="label-hidden" placeholder="Select Progress Indicator"
                                        options={TypeOptions} onchange={changeProgressIndicator} class="slds-is-open">
                                    </lightning-combobox>
                                </div>
                            </div>
                        </div>
                        <!-- Captcha Type  -->
                        <div class="input_field">
                            <div class="slds-grid slds-wrap">
                                <div class="slds-col slds-size_5-of-12">
                                    <label class="input_field-label">Captcha Type <lightning-helptext
                                            content="You'll receive weekly updates"></lightning-helptext></label>
                                </div>
                                <div class="slds-col slds-size_1-of-12">
                                    :
                                </div>
                                <div class="slds-col slds-size_6-of-12">
                                    <lightning-combobox name="CaptchaType" variant="label-hidden"
                                        value={captchTypeparent} placeholder="Select Captcha Type"
                                        options={TypeOptions_2} onchange={changeCaptchaType} class="slds-is-open">
                                    </lightning-combobox>
                                </div>
                            </div>
                        </div>

                        <!-- Description -->
                        <div class="input_field">
                            <div class="slds-grid slds-wrap">
                                <div class="slds-col slds-size_5-of-12">
                                    <label class="input_field-label">Description</label>
                                </div>
                                <div class="slds-col slds-size_1-of-12">
                                    :
                                </div>
                                <div class="slds-col slds-size_6-of-12">
                                    <lightning-textarea variant="label-hidden" name="description"
                                        onchange={changeDescription} value={description}
                                        class="desc"></lightning-textarea>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="captcha_progressbar_preview_main">
                        <div if:true={ispreview_show_msg} class="preview_show_msg_progress_bar">
                            <p>Select Progress Indicator</p>
                        </div>
                        <div if:true={pi} class="progressbar_preview">
                            <div class="captcha_progressbar_preview_main_titel">Progress Indicator :</div>
                            <div class="preview_box_progressbar">
                                <div class="prog-bar-width">
                                    <c-progress-indicator progress={Progressbarvalue}></c-progress-indicator>
                                </div>
                            </div>
                        </div>
                        <div if:true={testtest} class="preview_show_msg_captcha">
                            <p>Select Captcha Type</p>
                        </div>
                        <div if:true={ct} class="captcha_preview">

                            <div class="captcha_progressbar_preview_main_titel">Captcha Type :</div>
                            <div class="preview_box_captcha">
                                <c-captcha-type captypetypes={captchTypeparent}></c-captcha-type>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="slds-modal__footer">
                    <div class="bt-center">
                        <div class="bt">
                            <button class="qf-standard-button cancelbtn" value="Cancel" onclick={closeModal}
                                name="Cancel">Cancel</button>
                            <button class="qf-standard-button" value="Next" name="Next"
                                onclick={handleValidation}>Next</button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- END Form Details -->
            <!-- Object Selection -->

            <c-toast-component></c-toast-component>

            <div class="slds-modal__container" if:true={objectselection}>
                <!-- spinner -->
                <template if:true={spinnerDataTable}>
                    <div data-id="spinnerId" class="slds-spinner_container spinner_container" style="overflow: hidden;">
                        <div class="spinner-main-div">
                            <div class="loader--ripple">
                                <div></div>
                                <div></div>
                            </div>
                        </div>
                    </div>
                </template>
                <!-- spinner -->
                <header class="slds-modal__header">
                    <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse"
                        title="Close" onclick={closeModal}>
                        <lightning-icon icon-name="utility:close" alternative-text="close" variant="inverse"
                            size="small"></lightning-icon>
                        <span class="slds-assistive-text">Close</span>
                    </button>
                    <p class="popup_titel">Template</p>
                </header>
                <div class="slds-modal__content slds-p-around_medium mainobjectdiv" id="modal-content-id-2">
                    <div class="main_box">
                        <div class="template_option_main">
                            <p class="section_title"><b>Select Template :</b></p>
                            <div class="main_box_grid">
                                <div class="grid1 slds-grid slds-gutters">
                                    <div class="inner-grid1 slds-col" data-name="template_1" onclick={firstTemp}>
                                        <img src={section_One_img}>
                                    </div>
                                    <div class="inner-grid1 slds-col" data-name="template_2" onclick={secondTemp}>
                                        <img src={section_Two_img}>
                                    </div>
                                </div>
                                <div class="grid1 slds-grid slds-gutters">
                                    <div class="inner-grid2 slds-col" data-name="template_3" onclick={thirdTemp}>
                                        <img src={section_Three_img}>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="pop_up2_main">
                            <p class="section_title"><b>Select Object :</b></p>
                            <template if:true={isselect_msg}>
                                <div class="select_msg">
                                    <p>Select Object Template</p>
                                </div>
                            </template>
                            <div class="pop_up2" if:true={popup_2}>
                                <div class="grid2">
                                    <template if:true={temp_One}>
                                        <div class="one">
                                            <div class="one_contener slds-align_absolute-center">
                                                <lightning-combobox
                                                    class="slds-is-open slds-has-flexi-truncate ligcombobox"
                                                    name="object1" placeholder="Select Object" value={value1}
                                                    onchange={object1} options={options_object1}>
                                                </lightning-combobox>
                                            </div>
                                        </div>
                                    </template>
                                    <template if:true={temp_Two}>
                                        <div class="tf-main">
                                            <ul>
                                                <li>
                                                    <ul>
                                                        <li>
                                                            <div class="tf-nc">
                                                                <div class="templeat3-combobox">
                                                                    <lightning-combobox name="object2.1"
                                                                        variant="label-hidden" value={value1}
                                                                        placeholder="Select Object 1"
                                                                        options={options_object1} onchange={object1}
                                                                        class="slds-is-open slds-has-flexi-truncate ligcombobox testval">
                                                                    </lightning-combobox>
                                                                </div>
                                                            </div>
                                                        </li>
                                                        <li class="">
                                                            <div class="tf-nc2">
                                                                <div class="templeat3-combobox">
                                                                    <lightning-combobox
                                                                        class="templet3_object3 slds-is-open slds-has-flexi-truncate ligcombobox"
                                                                        name="object2.2" placeholder=" Select Object 2"
                                                                        value={value2} onchange={object2_1}
                                                                        onfocus={selcel_object_errormsg}
                                                                        dropdown-alignment="bottom-left"
                                                                        options={options_object2}>
                                                                    </lightning-combobox>
                                                                    <div class="sec_obj_error_main">
                                                                        <div class="sec_obj_error"
                                                                            if:true={sec_obj_error}>Please Select Object
                                                                            1 firstly</div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </li>
                                                    </ul>
                                                </li>
                                            </ul>
                                        </div>
                                    </template>
                                    <template if:true={temp_Third}>
                                        <div class="tf-tree example">
                                            <div class="tf-main">
                                                <ul>
                                                    <li>
                                                        <div class="tf-nc">
                                                            <div class="templeat3-combobox">
                                                                <lightning-combobox
                                                                    class="templeat3 slds-is-open slds-has-flexi-truncate ligcombobox"
                                                                    name="object3.1" placeholder="Selected Object 1"
                                                                    value={value1} onchange={object1}
                                                                    options={options_object1}></lightning-combobox>
                                                            </div>
                                                        </div>
                                                        <ul>
                                                            <li>
                                                                <div class="tf-nc">
                                                                    <div class="templeat3-combobox">
                                                                        <lightning-combobox
                                                                            class="slds-is-open slds-has-flexi-truncate ligcombobox"
                                                                            name="Object 3.2.1"
                                                                            placeholder="Selected Object 2.1"
                                                                            value={value2} onchange={object2_1}
                                                                            dropdown-alignment="bottom-left"
                                                                            options={options_object2}
                                                                            onfocus={selcel_object_errormsg}></lightning-combobox>
                                                                        <div class="sec_obj_error_main">
                                                                            <div class="sec_obj_error"
                                                                                if:true={sec_obj_error}>Please Select
                                                                                Object 1 firstly</div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </li>
                                                            <li class="">
                                                                <div class="tf-nc3">
                                                                    <div class="templeat3-combobox">
                                                                        <lightning-combobox
                                                                            class="templet3_object3 slds-is-open slds-has-flexi-truncate ligcombobox"
                                                                            name="Object 3.2.2"
                                                                            placeholder="Selected Object 2.2"
                                                                            value={value3} onchange={object2_2}
                                                                            dropdown-alignment="bottom-left"
                                                                            options={options_object2}
                                                                            onfocus={tep3_selcel_object_errormsg_2}></lightning-combobox>
                                                                        <div class="sec_obj_error_main">
                                                                            <div class="sec_obj_error"
                                                                                if:true={tep3_sec_obj_error_2}>Please
                                                                                Select Object 1 firstly</div>
                                                                        </div>
                                                                    </div>

                                                                </div>
                                                            </li>
                                                        </ul>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </template>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="slds-modal__footer">
                    <div class="bt-center">
                        <div class="bt">
                            <button class="qf-standard-button cancelbtn" value="Previous" onclick={Previouus_bt}
                                name="Previous">Previous</button>
                            <button class="qf-standard-button" value="Save" onclick={save} name="Save">Save</button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- End Object Selection -->
        </section>
        <div class="slds-backdrop slds-backdrop_open"></div>
    </template>
</template>